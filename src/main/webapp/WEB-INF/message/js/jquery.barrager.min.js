!function(t){function s(t){this.canvas=t.get(0),this.ctx=this.canvas.getContext("2d"),this.msgs=new Array(300),this.image=new Image,this.width=1280,this.height=720,this.canvas.width=this.width,this.canvas.height=this.height,this.font="30px 黑体",this.ctx.font=this.font,this.colorArr=[{font:"#ff0000",bg:"#ffff00"},{font:"#ffff00",bg:"#663399"},{font:"#de009d",bg:"#ffa4cb"},{font:"#b22e0b",bg:"#ff9900"},{font:"#010101",bg:"#66cc00"},{font:"#010101",bg:"#0099cc"}],this.interval="",this.draw=function(){if(""==this.interval){var t=this;this.interval=setInterval(function(){t.ctx.clearRect(0,0,t.width,t.height),t.ctx.save();for(var s=0;s<t.msgs.length;s++)null!=t.msgs[s]&&""!=t.msgs[s]&&"undefined"!=typeof t.msgs[s]&&(t.image.src=t.msgs[s].img,null==t.msgs[s].L||"undefined"==typeof t.msgs[s].L?(t.msgs[s].L=t.width,t.msgs[s].T=parseInt(700*Math.random()),t.msgs[s].S=parseInt(6*Math.random()+4),t.msgs[s].C=t.colorArr[Math.floor(Math.random()*t.colorArr.length)]):t.msgs[s].L<-200?t.msgs[s]=null:(t.msgs[s].L=parseInt(t.msgs[s].L-t.msgs[s].S),t.drawRoundedRect(t.msgs[s].C.font,t.msgs[s].C.bg,t.msgs[s].L-20,t.msgs[s].T-25,t.ctx.measureText(t.msgs[s].msg).width+25,40,10),t.ctx.fillStyle=t.msgs[s].C.font,t.ctx.fillText(t.msgs[s].msg,t.msgs[s].L,t.msgs[s].T+6),t.ctx.drawImage(t.image,t.msgs[s].L-60,t.msgs[s].T-35,60,60),t.ctx.arc(t.image.width/2,t.image.width/2,Math.min(t.image.width,t.image.height)/2,0,2*Math.PI),t.ctx.restore()))},20)}},this.putMsg=function(t){for(var s=0;s<t.length;s++)for(var i=0;i<this.msgs.length;i++)if(null==this.msgs[i]||""==this.msgs[i]||"undefined"==typeof this.msgs[i]){this.msgs[i]=t[s];break}this.draw()},this.clear=function(){clearInterval(this.interval),this.interval="",this.ctx.clearRect(0,0,this.width,this.height),this.ctx.save();for(var t=0;t<this.msgs.length;t++)this.msgs[t]=null},this.drawRoundedRect=function(t,s,i,e,a,h,r){this.ctx.beginPath(),this.ctx.globalAlpha="1",this.roundedRect(i,e,a,h,r),this.ctx.strokeStyle=t,this.ctx.fillStyle=s,this.ctx.stroke(),this.ctx.fill()},this.roundedRect=function(t,s,i,e,a){i>0?this.ctx.moveTo(t+a,s):this.ctx.moveTo(t-a,s),this.ctx.arcTo(t+i,s,t+i,s+e,a),this.ctx.arcTo(t+i,s+e,t,s+e,a),this.ctx.arcTo(t,s+e,t,s,a),i>0?this.ctx.arcTo(t,s,t+a,s,a):this.ctx.arcTo(t,s,t-a,s,a)}}t.fn.barrager=function(i){if("string"==typeof i)try{var e=t(this).data("barrager_api");e[i].apply(e)}catch(t){}else if("object"!=typeof i&&i)t.error("Method "+method+" does not exist on jQuery.barrager");else if($this=t(this),null!=$this.data("barrager_api")&&""!=$this.data("barrager_api")){var e=$this.data("barrager_api");e.putMsg(i)}else{var e=new s($this);$this.data("barrager_api",e),e.putMsg(i)}return this}}(jQuery);